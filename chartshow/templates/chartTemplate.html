<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Flot Examples: Time Axes</title>
    <link href="/media/examples.css" rel="stylesheet" type="text/css">
    <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="/media/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="/media/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="/media/jquery.flot.time.js"></script>
    <script type="text/javascript">

    $(function() {

        var d = {{ chartdata }};
        var d2 = {{ chartdata2 }};

        for (var x = 0; x < d.length; x++) {
            d[x] = [d[x][0]*1000,d[x][1]];
        }
        for (var x = 0; x < d2.length; x++) {
            d2[x] = [d2[x][0]*1000,d2[x][1]];
        }

        $.plot("#placeholder", [{data: d, label: "Sensor 4098"},{data: d2, label:"Sensor 4101"}], {
            xaxis: { mode: "time", minTickSize: [5, "minute"] },
            yaxis: {max: 160 },
            series: {
                lines: {
                    show: true
                },
                points: {
                    show: false
                }
            }
        });

        $("#whole").click(function () {
            $.plot("#placeholder", [d], {
                xaxis: { mode: "time" }
            });
        });

        $("#nineties").click(function () {
            $.plot("#placeholder", [d], {
                xaxis: {
                    mode: "time",
                    min: (new Date(1990, 0, 1)).getTime(),
                    max: (new Date(1199142000000)).getTime()
                }
            });
        });

        $("#latenineties").click(function () {
            $.plot("#placeholder", [d], {
                xaxis: {
                    mode: "time",
                    minTickSize: [1, "year"],
                    min: (new Date(1996, 0, 1)).getTime(),
                    max: (new Date(2000, 0, 1)).getTime()
                }
            });
        });

        $("#ninetyninequarters").click(function () {
            $.plot("#placeholder", [d], {
                xaxis: {
                    mode: "time",
                    minTickSize: [1, "quarter"],
                    min: (new Date(1999, 0, 1)).getTime(),
                    max: (new Date(2000, 0, 1)).getTime()
                }
            });
        });

        $("#ninetynine").click(function () {
            $.plot("#placeholder", [d], {
                xaxis: {
                    mode: "time",
                    minTickSize: [1, "month"],
                    min: (new Date(1999, 0, 1)).getTime(),
                    max: (new Date(2000, 0, 1)).getTime()
                }
            });
        });

        $("#lastweekninetynine").click(function () {
            $.plot("#placeholder", [d], {
                xaxis: {
                    mode: "time",
                    minTickSize: [1, "day"],
                    min: (new Date(1999, 11, 25)).getTime(),
                    max: (new Date(2000, 0, 1)).getTime(),
                    timeformat: "%a"
                }
            });
        });

        $("#lastdayninetynine").click(function () {
            $.plot("#placeholder", [d], {
                xaxis: {
                    mode: "time",
                    minTickSize: [1, "hour"],
                    min: (new Date(1999, 11, 31)).getTime(),
                    max: (new Date(2000, 0, 1)).getTime(),
                    twelveHourClock: true
                }
            });
        });

        // Add the Flot version string to the footer

        $("#footer").prepend("Flot " + $.plot.version + " &ndash; ");
    });

    </script>
</head>
<body>

    <div id="header">
        <h2>Measurements chart</h2>
    </div>

    <div id="content">

        <div class="demo-container">
            <div id="placeholder" class="demo-placeholder"></div>
        </div>
    </div>

</body>
</html>
